
<div class="panel panel-default top-panel text-center bungee-font">
  <div class="panel-body">Jobs</div>
</div>

<!-- Show results -->
<div class="panel panel-default jobs" ng-repeat="job in jobs.jobsList">
	<div class="panel-heading text-center"><a href="{{job.career_url}}" target='_blank' class="hvr-sink"><h3 class="well">{{job.job_name}}</h3></a></div>
	<div class="panel-body text-center flexcontainer">
		<div>Company: {{job.company_name}}</div>
	</div>
</div>

<!-- Search buton and search box -->
<span class="searchButton"><i class="fa fa-search fa-2x"></i></span><input ng-change="jobs.search()" ng-model="jobs.searchTerm" ng-keydown="jobs.deleteTerm($event)" type="text" id="search-box" style="width: 0px; visibility:hidden;"/>

<!-- Take to top of page button -->
<a href="#" id="back-to-top" title="Back to top"><i class="fa fa-arrow-up fa-2x"></i></a>

<!-- Get next ten results -->
<div ng-click="jobs.getNext()" class="nextButton">See More</div>

<script type="text/javascript">	
  	if ($('#back-to-top').length) {
      	var scrollTrigger = 100, // px
        backToTop = function () {
            var scrollTop = $(window).scrollTop();
            if (scrollTop > scrollTrigger) {
                $('#back-to-top').addClass('show');
            } else {
                $('#back-to-top').removeClass('show');
            }
        };
      	backToTop();
      	$(window).on('scroll', function () {
          	backToTop();
      	});
      	$('#back-to-top').on('click', function (e) {
          	e.preventDefault();
          	$('html,body').animate({
              	scrollTop: 0
          	}, 1000);
      	});
  	}

  	var toggleVar = true;
  	$('.searchButton').on('click', function() {
  		if(toggleVar) {
  			$('.searchButton').animate({right: '210px'}, 400);
  			$('#search-box').css("visibility", "visible");
  			setTimeout(function() {
		  		$('.searchButton').css("color", "#444444");
		  	}, 200);
	  		$('#search-box').animate({ width: 185 }, 400).focus();
	  		toggleVar = false;
  		}
  		else {
  			$('#search-box').animate({ width: 0 }, 400);
	  		$('.searchButton').animate({right: '25px'}, 400);
	  		setTimeout(function() {
		  		$('.searchButton').css("color", "#eeeeee");
		  	}, 300);
	  		toggleVar = true;
  		}
  	});

  	$('#search-box').focusout(function() {
  		if(!toggleVar) {
  			$('#search-box').animate({ width: 0 }, 400);
		  	$('.searchButton').animate({right: '25px'}, 400);
		  	setTimeout(function() {
		  		$('.searchButton').css("color", "#eeeeee");
		  	}, 300);
		  	toggleVar = true;
  		}
  	});
</script>